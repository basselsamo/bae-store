<head>
  <title>User Account</title>
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<%- include('partials/in-header', {title: 'Register'}) %>
<div class="container">
  <%- include('partials/sidebar') %>
  <main class="main-content">
    <h2>Account Details</h2>
    <form action="/account/details" method="post" class="account-details-form">
    <div class="form-row">
        <div class="form-column">
          First Name: <input type="text" name="firstName" placeholder="First Name" value="<%= user.firstName %>" required>
        </div>
        <div class="form-column">
          Last Name: <input type="text" name="lastName" placeholder="Last Name" value="<%= user.lastName %>" required>  
        </div>
        <div class="form-column">
          Email Address: <input type="text" name="email" placeholder="Email" value="<%= user.email %>" disabled title="Currently Prohibited." required>
      </div>
    </div>
    <div class="form-row">
        <div class="form-column">
          Shipping Address: <input type="text" name="address" placeholder="Enter Full Address" value="<%= user.address %>">
        </div>
        <div class="form-column">
          Phone Number: <input type="text" name="phoneNumber" placeholder="0049XXXXXXXXXX" value="<%= user.phoneNumber %>">
      </div>
      <div class="form-column">
        Change Password: <input type="password" name="password" placeholder="Enter New Password">
      </div>
    </div>
    <div class="form-actions">
    <button type="submit" value="Update" class="update-details-button">Update My Account Details</button>
    <% if (successMessage) { %>
      <div class="alert-success-updating">
          <%= successMessage %>
      </div>
    <% } %>
    </div>
</form>

    <h2>Delete Your Account</h2>
    <form action="/account/delete" method="post" onsubmit="return confirmDelete();" class="account-details-form"">
      This action cannot be reversed! Enter your password to confirm deletion:<input type="password" name="password" placeholder="Enter Your Password" required>
      <div class="form-actions">
      <button type="submit" class="delete-account-button">Delete My Account Forever</button>
      <% if (failMessage) { %>
        <div class="alert-fail-deleting">
            <%= failMessage %>
        </div>
      <% } %>
    </div>
    </form>
  </main>
</div>

<script>
function confirmDelete() {
  return confirm('Are you sure you want to delete your account? This action cannot be reverted.');
}
</script>
  <%- include('partials/footer') %>
